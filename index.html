<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Global Population & Geopolitical Risk Dashboard</title>
<style>
body { font-family: Arial; margin: 0; padding: 0; }
header { background-color: #2E86C1; color: white; padding: 20px; text-align: center; }
section { padding: 20px; max-width: 900px; margin: auto; }
table { width: 100%; border-collapse: collapse; margin-top: 10px; }
th,td { border: 1px solid #ccc; padding: 8px; text-align: center; }
th { background-color: #f0f0f0; }
img { max-width:100%; height:auto; display:block; margin:10px auto; }
</style>
</head>
<body>

<header>
<h1>Global Population & Geopolitical Risk Dashboard</h1>
<p>作者：黃晴筠</p>
</header>

<section>
<h2>世界人口預測</h2>
<div id="population-data"></div>
<img src="images/population_forecast.png" alt="World Population Forecast 2024-2100">
<p>來源：AI 生成 (Gemini)</p>
<p>資料來源：UN World Population Prospects 2024</p>

<h3>人口表格與成長率</h3>
<table>
<tr><th>年份</th><th>人口</th></tr>
<tr><td>2024</td><td id="pop2024"></td></tr>
<tr><td>2030</td><td id="pop2030"></td></tr>
<tr><td>2050</td><td id="pop2050"></td></tr>
<tr><td>2100</td><td id="pop2100"></td></tr>
</table>

<p>CAGR: <span id="cagr"></span>%</p>
<p>平均年成長率: <span id="avg-growth"></span>%</p>
</section>

<script>
fetch('data/cleaned.json')
.then(res => res.json())
.then(data => {
  const container = document.getElementById('population-data');
  data.data.forEach(item => {
    const p = document.createElement('p');
    p.textContent = `年份：${item.year}，人口：${item.population.toLocaleString()}`;
    container.appendChild(p);

    if(item.year === 2024) document.getElementById('pop2024').textContent = item.population.toLocaleString();
    if(item.year === 2030) document.getElementById('pop2030').textContent = item.population.toLocaleString();
    if(item.year === 2050) document.getElementById('pop2050').textContent = item.population.toLocaleString();
    if(item.year === 2100) document.getElementById('pop2100').textContent = item.population.toLocaleString();
  });

  const start = data.data.find(d => d.year === 2024).population;
  const end   = data.data.find(d => d.year === 2100).population;
  const years = 2100 - 2024;
  const cagr  = (Math.pow(end/start, 1/years) - 1)*100;
  document.getElementById('cagr').textContent = cagr.toFixed(2);

  const rates = [];
  for(let i=1; i<data.data.length; i++){
    rates.push((data.data[i].population - data.data[i-1].population)/data.data[i-1].population*100);
  }
  const avg = rates.reduce((a,b) => a+b,0)/rates.length;
  document.getElementById('avg-growth').textContent = avg.toFixed(2);
})
.catch(err=>console.error(err));
</script>

</body>
</html>
<!-- 伊朗地緣政治風險分析 -->
<section>
    <h2>Iran Risk Matrix</h2>
    <table>
        <tr>
            <th>風險因子</th>
            <th>機率</th>
            <th>影響程度</th>
            <th>資料來源</th>
        </tr>
        <tr>
            <td>政治不穩定 (事實)</td>
            <td>高</td>
            <td>高</td>
            <td>Reuters</td>
        </tr>
        <tr>
            <td>國際制裁 (事實)</td>
            <td>中</td>
            <td>高</td>
            <td>UN News</td>
        </tr>
        <tr>
            <td>軍事衝突風險 (推論)</td>
            <td>低</td>
            <td>高</td>
            <td>AI 推論</td>
        </tr>
        <tr>
            <td>能源價格波動 (推論)</td>
            <td>中</td>
            <td>中</td>
            <td>Bloomberg</td>
        </tr>
    </table>
</section>

<!-- 方法論區塊 -->
<section>
    <h2>方法論</h2>
    <p><strong>AI 使用方式：</strong>生成圖表、Risk Matrix 初稿、Python 資料清理程式提示。</p>
    <p><strong>資料驗證方式：</strong>人口數據與 UN World Population Prospects 對照，Risk Matrix 推論由人工核對來源。</p>
</section>
                